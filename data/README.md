# IPO Sandbox Data

Synthetic dataset for Week 3 IPO backtest sandbox.

## Schema

### IPO metadata (`ipo_meta.csv`)
- **ticker** (str): Symbol
- **ipo_date** (date): First trade day (day 0)

### Daily prices (`prices/<ticker>.csv`)
- **date** (date): Trading date
- **close** (float): Close price
- **volume** (int, optional): Volume

One CSV per ticker. Rows should be day 0 (IPO date) through day N (e.g. N=5 or 10).

## Contents

- `ipo_meta.csv`: 5 synthetic IPOs (SYNTH1–SYNTH5)
- `prices/*.csv`: 11 days of daily OHLCV per ticker (day 0 → day 10)
- `ritter_ipos_1975_2025.csv`: Ritter U.S. IPO list (Jan 1975–Dec 2025); columns include offer.date, IPO.name, Ticker, CUSIP, ADR, VC, Dual, Post-issue.shares, Internet, CRSP.Perm, Founding, Rollup, etc.
- `ipo_cusips_2000_onward.txt`: CUSIPs for IPOs from 2000 onward (one per line).
- `ipo_gvkeys_2000_onward.txt`: GVKEYs for those IPOs (one per line), generated by `src/cusip_to_gvkey.py` using a WRDS mapping.

### CUSIP → GVKEY

To build `ipo_gvkeys_2000_onward.txt` from CUSIPs:

1. In **WRDS**: use **Linking Suite → "COMPUSTAT GVKEY by CUSIP"**, or run a Compustat query (e.g. `comp.security`) to get `cusip` and `gvkey`.
2. Export to CSV with columns `cusip` and `gvkey`; save as `data/cusip_gvkey_mapping.csv`.
3. Run: `python3 src/cusip_to_gvkey.py`

If `cusip_gvkey_mapping.csv` is missing, the script creates a header-only template and prints these steps.

## Usage

Load metadata and prices with `src.data` (when implemented), or use directly:

```python
import pandas as pd
meta = pd.read_csv("data/ipo_meta.csv", parse_dates=["ipo_date"])
prices = {row.ticker: pd.read_csv(f"data/prices/{row.ticker}.csv", parse_dates=["date"])
          for _, row in meta.iterrows()}
```
